
In the mathematical field of order theory, an ultrafilter on a given partially ordered set (poset) "P" is a certain subset of "P," namely a maximal filter on "P", that is, a proper filter on "P" that cannot be enlarged to a bigger proper filter on "P".
If "X" is an arbitrary set, its power set formula_1 ordered by set inclusion, is always a Boolean algebra and hence a poset, and ultrafilters on formula_2 are usually called an "X". An ultrafilter on a set "X" may be considered as a finitely additive measure on "X." In this view, every subset of "X" is either considered "almost everything" (has measure 1) or "almost nothing" (has measure 0), depending on whether it belongs to the given ultrafilter or not.
Ultrafilters have many applications in set theory, model theory, and topology.
Ultrafilters on partial orders.
In order theory, an ultrafilter is a subset of a partially ordered set that is maximal among all proper filters. This implies that any filter that properly contains an ultrafilter has to be equal to the whole poset.
Formally, if formula_3 is a set, partially ordered by formula_4 then 
Every ultrafilter falls into exactly one of two categories: principal and free. A principal (or fixed, or trivial) ultrafilter is a filter containing a least element. Consequently, principal ultrafilters are of the form formula_27 for some (but not all) elements formula_28 of the given poset. In this case formula_28 is called the of the ultrafilter. Any ultrafilter that is not principal is called a free (or non-principal) ultrafilter.
For ultrafilters on a powerset formula_30 a principal ultrafilter consists of all subsets of formula_31 that contain a given element formula_32 Each ultrafilter on formula_33 that is also a principal filter is of this form. Therefore, an ultrafilter formula_17 on formula_33 is principal if and only if it contains a finite set. If formula_31 is infinite, an ultrafilter formula_17 on formula_33 is hence non-principal if and only if it contains the Fréchet filter of cofinite subsets of formula_39 If formula_31 is finite, each ultrafilter is principal.
Every filter on a Boolean algebra (or more generally, any subset with the finite intersection property) is contained in an ultrafilter (see ultrafilter lemma) and that free ultrafilters therefore exist, but the proofs involve the axiom of choice (AC) in the form of Zorn's lemma. On the other hand, the statement that every filter is contained in an ultrafilter does not imply AC. Indeed, it is equivalent to the Boolean prime ideal theorem (BPIT), a well-known intermediate point between the axioms of Zermelo–Fraenkel set theory (ZF) and the ZF theory augmented by the axiom of choice (ZFC). In general, proofs involving the axiom of choice do not produce explicit examples of free ultrafilters, though it is possible to find explicit examples in some models of ZFC; for example, Gödel showed that this can be done in the constructible universe where one can write down an explicit global choice function. In ZF without the axiom of choice, it is possible that every ultrafilter is principal.
Ultrafilter on a Boolean algebra.
An important special case of the concept occurs if the considered poset is a Boolean algebra. In this case, ultrafilters are characterized by containing, for each element formula_28 of the Boolean algebra, exactly one of the elements formula_28 and ¬formula_28 (the latter being the Boolean complement of formula_28):
If formula_3 is a Boolean algebra and formula_7 is a proper filter on formula_21 then the following statements are equivalent:
A proof of 1. ⇔ 2. is also given in (Burris, Sankappanavar, 2012, Corollary 3.13, p.133).
Moreover, ultrafilters on a Boolean algebra can be related to maximal ideals and homomorphisms to the 2-element Boolean algebra {true, false} (also known as 2-valued morphisms) as follows:
Ultrafilter on the powerset of a set.
Given an arbitrary set formula_56 its power set formula_1 ordered by set inclusion, is always a Boolean algebra; hence the results of the above section apply. An (ultra)filter on formula_2 is often called just an "(ultra)filter on formula_59". The above formal definitions can be particularized to the powerset case as follows:
Given an arbitrary set formula_56 an ultrafilter on formula_2 is a set formula_17 consisting of subsets of formula_59 such that:
Another way of looking at ultrafilters on a power set formula_2 is as follows: for a given ultrafilter formula_17 define a function formula_86 on formula_2 by setting formula_88 if formula_65 is an element of formula_17 and formula_91 otherwise. Such a function is called a 2-valued morphism. Then formula_86 is finitely additive, and hence a on formula_1 and every property of elements of formula_59 is either true almost everywhere or false almost everywhere. However, formula_86 is usually not , and hence does not define a measure in the usual sense.
For a filter formula_7 that is not an ultrafilter, one would say formula_88 if formula_98 and formula_91 if formula_100 leaving formula_86 undefined elsewhere.
Applications.
Ultrafilters on powersets are useful in topology, especially in relation to compact Hausdorff spaces, and in model theory in the construction of ultraproducts and ultrapowers. Every ultrafilter on a compact Hausdorff space converges to exactly one point. Likewise, ultrafilters on Boolean algebras play a central role in Stone's representation theorem.
The set "G" of all ultrafilters of a poset "P" can be topologized in a natural way, that is in fact closely related to the above-mentioned representation theorem. For any element "a" of "P", let formula_102 This is most useful when "P" is again a Boolean algebra, since in this situation the set of all "D""a" is a base for a compact Hausdorff topology on "G". Especially, when considering the ultrafilters on a powerset formula_30 the resulting topological space is the Stone–Čech compactification of a discrete space of cardinality formula_104
The ultraproduct construction in model theory uses ultrafilters to produce elementary extensions of structures. For example, in constructing hyperreal numbers as an ultraproduct of the real numbers, the domain of discourse is extended from real numbers to sequences of real numbers. This sequence space is regarded as a superset of the reals by identifying each real with the corresponding constant sequence. To extend the familiar functions and relations (e.g., + and &lt;) from the reals to the hyperreals, the natural idea is to define them pointwise. But this would lose important logical properties of the reals; for example, pointwise &lt; is not a total ordering. So instead the functions and relations are defined "pointwise modulo "U"", where "U" is an ultrafilter on the index set of the sequences; by Łoś' theorem, this preserves all properties of the reals that can be stated in first-order logic. If "U" is nonprincipal, then the extension thereby obtained is nontrivial.
In geometric group theory, non-principal ultrafilters are used to define the asymptotic cone of a group. This construction yields a rigorous way to consider , that is the large scale geometry of the group. Asymptotic cones are particular examples of ultralimits of metric spaces.
Gödel's ontological proof of God's existence uses as an axiom that the set of all "positive properties" is an ultrafilter.
In social choice theory, non-principal ultrafilters are used to define a rule (called a "social welfare function") for aggregating the preferences of "infinitely" many individuals. Contrary to Arrow's impossibility theorem for "finitely" many individuals, such a rule satisfies the conditions (properties) that Arrow proposes (for example, Kirman and Sondermann, 1972). Mihara (1997, 1999) shows, however, such rules are practically of limited interest to social scientists, since they are non-algorithmic or non-computable.

